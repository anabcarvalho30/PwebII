<%- include('partials/head', { title: 'Criar Publicação' , currentPage: 'create' }) %>
  <main class="home-container">
    <div class="container-fluid px-3 py-4">
      <h1 class="section-title mb-4">Criar nova publicação</h1>
      <div class="container-lg">
        <!-- Formulário -->
        <form class="create-form" action="/criar-historia" method="POST" enctype="multipart/form-data">
          <!-- Seção de Upload -->
          <div class="mb-5">
            <h2 class="h4 mb-3 text-white">Capa</h2>
            <div class="d-flex flex-column flex-lg-row gap-4">
              <div class="flex-shrink-0">
                <div
                  class="cover-preview ratio ratio-16x9 bg-light rounded mb-3 d-flex align-items-center justify-content-center"
                  id="coverPreview">
                  <i class="fas fa-image text-muted fa-3x"></i>
                </div>

                <input type="file" name="capa" id="coverUpload" accept="image/*" class="d-none">
                <button type="button" class="btn btn btn-outline-dark w-100"
                  onclick="document.getElementById('coverUpload').click()">
                  <i class="fas fa-upload me-2"></i> Escolher Imagem
                </button>
              </div>
              <div class="flex-grow-1">
                <div class="bg-light p-3 rounded">
                  <p class="fw-medium mb-2">Recomendações:</p>
                  <ul class="text-muted small mb-0">
                    <li>Formatos aceitos: JPG, PNG</li>
                    <li>Dimensões ideais: 4/3</li>
                    <li>Tamanho máximo: 3MB</li>
                    <li>Imagens claras e de alta qualidade</li>
                  </ul>
                </div>
              </div>
            </div>
          </div>

          <!-- Campo de Título -->
          <div class="mb-5">
            <label for="postTitle" class="form-label h4 text-white">Título</label>
            <input type="text" class="form-control form-control-lg py-3 bg-secondary border-0" id="postTitle"
              placeholder="Dê um título impactante à sua publicação" name="titulo" required>
          </div>

          <!-- Campo de Genero -->
          <div class="mb-5">
            <label for="postGender" class="form-label h4 text-white">Genero</label>
            <input type="text" class="form-control form-control-lg py-3 bg-secondary border-0" id="postGenero"
              placeholder="De qual gênero literário é o seu texto?" name="genero" required>
          </div>

          <!-- Campo de Tags -->
          <div class="mb-5">
            <label class="form-label h4 text-white">Tags</label>
            <div class="border rounded p-3 bg-secondary  border-0">
              <div class="d-flex flex-wrap align-items-center gap-2" id="tagsContainer">
                <input name="tags" type="text" class="form-control border-0 bg-transparent px-2 py-1 flex-grow-1"
                  id="tagInput" placeholder="Adicione tags (pressione Enter)">
              </div>
              <div class="d-flex align-items-center mt-3">
                <i class="fas fa-info-circle text-muted me-2"></i>
                <small class="text-muted">Use tags relevantes para ajudar os leitores a encontrar seu
                  conteúdo</small>
              </div>
            </div>
          </div>

          <!-- Editor de Texto -->
          <div class="mb-4">
            <label for="postContent" class="form-label h4 text-white">Sua história aqui...</label>
            <textarea name="historia" class="form-control p-3 bg-secondary  border-0" id="postContent" rows="18"
              placeholder="Escreva sua história aqui..." required></textarea>
          </div>
          <button type="submit" id="publishBtn" class="btn btn-primary px-4 py-2">
            <i class="fas fa-paper-plane me-2"></i> Publicar
          </button>
        </form>
      </div>
    </div>
  </main>